import{b as J,c as z,f as G,h as q,i as H,j as K,n as L}from"./chunk-ROR7AAS5.js";import{h as P,j as D,l as j,n as A,o as B}from"./chunk-VX5J622G.js";import{$ as f,Da as p,Fa as s,Ia as O,Oa as i,Pa as a,Qa as h,Ra as w,Sa as S,Ta as x,Ua as R,V as N,Ya as g,Za as c,_,eb as M,fb as m,hb as C,mb as k,ob as b,pb as I,sb as y,tb as E,ub as F,va as l}from"./chunk-IIZCY6ZS.js";import"./chunk-VHCA6YAO.js";function U(e,d){e&1&&x(0)}function W(e,d){e&1&&x(0)}function X(e,d){e&1&&x(0)}var Y=e=>({css:"scale-result",name:"Tare",value:e});function Z(e,d){if(e&1&&(w(0),i(1,"div",17),p(2,X,1,0,"ng-container",15),a(),S()),e&2){let n=c(),r=M(31);l(2),s("ngTemplateOutlet",r)("ngTemplateOutletContext",b(2,Y,n.asNumber(n.data.gross)>0&&n.asNumber(n.data.tare)==0?n.portValue:n.draft.tare))}}function ee(e,d){e&1&&x(0)}var te=e=>({css:"scale-result",name:"Net",value:e});function ne(e,d){if(e&1&&(i(0,"div",27),p(1,ee,1,0,"ng-container",15),a()),e&2){let n=c(),r=M(31);l(),s("ngTemplateOutlet",r)("ngTemplateOutletContext",b(2,te,n.draft.gross-(n.asNumber(n.data.gross)>0&&n.asNumber(n.data.tare)==0?n.portValue:n.draft.tare)))}}var ie=e=>({"text-light bg-danger rounded-3":e});function ae(e,d){if(e&1&&(i(0,"div")(1,"div",28)(2,"div",21)(3,"div",29),m(4),a(),i(5,"div",30)(6,"div"),m(7),y(8,"number"),a(),i(9,"div",31),m(10),a()()()()()),e&2){let n=d.name,r=d.value,o=d.css,t=c();l(2),s("ngClass",b(10,ie,r<0)),l(2),C(" ",n," "),l(2),O(o),l(),C(" ",E(8,7,r,"0.0-2")," "),l(3),C(" ",t.unit," ")}}function oe(e,d){if(e&1){let n=R();w(0),i(1,"div",32),h(2,"hr"),i(3,"div",33),m(4," * Simulation appear as for "),i(5,"b"),m(6,"testing purpose only"),a()(),i(7,"div",34)(8,"input",35),g("ngModelChange",function(o){_(n);let t=c();return f(t.portValue=o)})("input",function(o){_(n);let t=c();return f(t.setBubble(o.target))}),a(),i(9,"output",36),m(10),y(11,"number"),a()(),i(12,"div",37)(13,"div",38)(14,"div"),m(15,"Min"),a(),i(16,"input",39),g("ngModelChange",function(o){_(n);let t=c();return f(t.simulation.min=o)}),a()(),i(17,"div",38)(18,"div"),m(19,"Step"),a(),i(20,"input",40),g("ngModelChange",function(o){_(n);let t=c();return f(t.simulation.step=o)}),a()(),i(21,"div",38)(22,"div"),m(23,"Max"),a(),i(24,"input",39),g("ngModelChange",function(o){_(n);let t=c();return f(t.simulation.max=o)}),a()()()(),S()}if(e&2){let n=c();l(8),s("ngModel",n.portValue)("min",n.simulation.min)("max",n.simulation.max)("step",n.simulation.step),l(2),C(" ",E(11,8,n.portValue,"0.0-2")," "),l(6),s("ngModel",n.simulation.min),l(4),s("ngModel",n.simulation.step),l(4),s("ngModel",n.simulation.max)}}var re=e=>({css:"scale-display ms-4",name:"Indicator",value:e}),le=(e,d)=>({css:"scale-result",name:e,value:d}),de=e=>({"col-3":e}),T=function(e){return e.single="single",e.complete="complete",e}(T||{}),ge=(()=>{let d=class d{constructor(){this.scaleMode=T,this.simulation={enable:!0,max:99999,min:0,step:10},this.unit="kg",this.data=this.newData(),this.draft=JSON.parse(JSON.stringify(this.data)),this.portValue=0}ngAfterViewInit(){$(".range").each((r,o)=>{this.setBubble(o)})}newData(){return{id:-1,date:new Date,mode:T.single,detail:"",price:0,gross:0,tare:0}}onIndicator(){let r=this.portValue,o=this.draft;this.asNumber(o.gross)>0&&this.asNumber(o.tare)==0&&(this.draft.tare=r),this.asNumber(o.gross)==0&&(this.draft.gross=r)}asNumber(r){let o=Number(r);return isNaN(o)?0:o}setScale(){this.onIndicator(),this.data=JSON.parse(JSON.stringify(this.draft)),this.draft=this.data}setBubble(r){let t=$(r).parent().find(".bubble"),u=this.simulation.min,v=this.simulation.max,Q=this.portValue,V=Number((Q-u)*100/(v-u));t.css("left",`calc(${V}% + (${8-V*.15}px))`)}};d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=N({type:d,selectors:[["app-run"]],standalone:!0,features:[k],decls:34,vars:19,consts:[[1,"mb-3"],[1,"mb-3","overflow-auto"],[1,"d-grid"],[1,"border","border-dark-subtle","bg-dark-subtle","rounded","text-center","mb-3"],[1,"border","border-dark-subtle","bg-dark-subtle","rounded"],[1,"mb-3","text-center"],[1,"fw-medium"],[1,"w-100","px-2"],[1,"btn-group","w-100"],["id","mode1","name","mode","type","radio",1,"btn-check",3,"ngModel","value","ngModelChange"],["for","mode1",1,"btn","btn-outline-danger","w-50"],["id","mode2","name","mode","type","radio",1,"btn-check",3,"ngModel","value","ngModelChange"],["for","mode2",1,"btn","btn-outline-danger","w-50"],[1,"d-flex","justify-content-center"],[1,"text-light","bg-dark","bg-gradient","border","border-2","p-1","rounded","shadow","shadow-sm","w-indicator"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","align-items-center","justify-content-around"],[1,""],[4,"ngIf"],[1,"row","mx-0"],["class","col-9",4,"ngIf"],[3,"ngClass"],[1,"d-flex","align-items-baseline","justify-content-end","h-100","pb-3"],["type","button",1,"btn","btn-lg","btn-primary","border-0","rounded-circle",3,"click"],[1,"bi","bi-arrow-bar-down"],["scaleCtl",""],[1,"text-center","fixed-bottom"],[1,"col-9"],[1,"d-grid","justify-content-end"],[1,"text-center","small"],[1,"d-flex","align-items-center"],[1,"text-capitalize","p-2","fs-4"],[1,"bg-body-tertiary","px-3","pb-3"],[1,"text-muted","fst-italic","small","text-center"],[1,"range-wrap"],["type","range",1,"range",3,"ngModel","min","max","step","ngModelChange","input"],[1,"bubble"],[1,"d-flex","justify-content-between"],[1,"d-grid","text-center"],["type","number",1,"form-control","ctl-input",3,"ngModel","ngModelChange"],["type","number","step","0.01",1,"form-control","ctl-input",3,"ngModel","ngModelChange"]],template:function(o,t){if(o&1&&(h(0,"div",0),i(1,"div",1)(2,"div",2)(3,"div",3),m(4," --- container data --- "),a(),i(5,"div",4)(6,"div",5)(7,"div",6),m(8,"Scale Mode"),a(),i(9,"div",7)(10,"div",8)(11,"input",9),g("ngModelChange",function(v){return t.draft.mode=v}),a(),i(12,"label",10),m(13,"Single"),a(),i(14,"input",11),g("ngModelChange",function(v){return t.draft.mode=v}),a(),i(15,"label",12),m(16,"Complete"),a()()()(),i(17,"div",13)(18,"div",14),p(19,U,1,0,"ng-container",15),a()(),i(20,"div",16)(21,"div",17),p(22,W,1,0,"ng-container",15),a(),p(23,Z,3,4,"ng-container",18),a(),i(24,"div",19),p(25,ne,2,4,"div",20),i(26,"div",21)(27,"div",22)(28,"button",23),g("click",function(){return t.setScale()}),h(29,"i",24),a()()()(),p(30,ae,11,12,"ng-template",null,25,F),a()()(),i(32,"div",26),p(33,oe,25,11,"ng-container",18),a()),o&2){let u=M(31);l(11),s("ngModel",t.draft.mode)("value",t.scaleMode.single),l(3),s("ngModel",t.draft.mode)("value",t.scaleMode.complete),l(5),s("ngTemplateOutlet",u)("ngTemplateOutletContext",b(12,re,t.portValue)),l(3),s("ngTemplateOutlet",u)("ngTemplateOutletContext",I(14,le,t.draft.mode==t.scaleMode.complete?"Gross":"Net",t.asNumber(t.data.gross)==0?t.portValue:t.draft.gross)),l(),s("ngIf",t.draft.mode==t.scaleMode.complete),l(2),s("ngIf",t.draft.mode==t.scaleMode.complete),l(),s("ngClass",b(17,de,t.draft.mode==t.scaleMode.complete)),l(7),s("ngIf",t.simulation.enable)}},dependencies:[B,P,D,j,A,L,J,q,K,H,z,G],styles:['.w-indicator[_ngcontent-%COMP%]{width:fit-content}.scale-display[_ngcontent-%COMP%]{color:red;background-color:#000;border:1px silver solid;width:8.5rem;padding:.5rem;border-radius:.5rem;font-family:monospace;font-size:x-large;text-align:end;font-weight:700}.scale-result[_ngcontent-%COMP%]{color:unset;background-color:unset;padding:.5rem;border-radius:.5rem;font-family:math;font-size:x-large;text-align:end;font-weight:700}.ctl-input[_ngcontent-%COMP%]{width:100px;text-align:end}.range-wrap[_ngcontent-%COMP%]{position:relative}.range[_ngcontent-%COMP%]{width:100%}.bubble[_ngcontent-%COMP%]{background:red;color:#fff;padding:4px 12px;position:absolute;border-radius:4px;top:1.5rem;left:50%;transform:translate(-50%)}.bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;width:2px;height:2px;background:red;top:1.5rem;left:50%}']});let e=d;return e})();export{ge as RunComponent};
